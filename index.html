<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="icon" href="icon.png" type="image/png">
      <title>Motor Database</title>
      <link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.13.7/css/jquery.dataTables.min.css">
      <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
      <script type="text/javascript" src="//cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
   </head>
   <body>
      <div><a href="https://github.com/marc-frank/motor-database">Contribute here - https://github.com/marc-frank/motor-database</a></div>
      <br>
      <table id="myTable" class="display">
         <thead>
            <tr id="headerRow"></tr>
         </thead>
         <tbody></tbody>
         <tfoot>
            <tr id="footerRow"></tr>
         </tfoot>
      </table>
      <script>
         $(document).ready(function () {
             // Fetch the JSON data
             fetch('database.json')
                 .then(response => response.json())
                 .then(data => {
                     var table = $('#myTable').DataTable({
                         "lengthMenu": [[10, 25, 50, 100, 250, -1], [10, 25, 50, 100, 250, "All"]],
                         "pageLength": 10,
                         orderCellsTop: true,
                         fixedHeader: true,
                         data: data, // Provide the JSON data directly to DataTables
                         initComplete: function () {
                             // Create dynamic columns based on JSON keys
                             var headerRow = $('#headerRow');
                             var footerRow = $('#footerRow');
                             Object.keys(data[0]).forEach(function (key) {
                                 headerRow.append('<th>' + key + '</th>');
                                 footerRow.append('<th>' + key + '</th>');
                             });
                         }
                     });
                 })
                 .catch(error => console.error('Error fetching data:', error));
         });
      </script>
   </body>
</html>
